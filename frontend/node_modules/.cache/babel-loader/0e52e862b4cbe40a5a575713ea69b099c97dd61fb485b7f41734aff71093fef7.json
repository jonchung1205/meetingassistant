{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{Bar}from'react-chartjs-2';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function App(){const[isConnected,setIsConnected]=useState(false);const[isRecording,setIsRecording]=useState(false);const[speakerData,setSpeakerData]=useState([]);const[meetingDuration,setMeetingDuration]=useState(0);const[prompts,setPrompts]=useState([]);const[agenda,setAgenda]=useState('');const[agendaItems,setAgendaItems]=useState([]);const ws=useRef(null);const backendUrl=process.env.REACT_APP_BACKEND_URL||'http://localhost:8001';useEffect(()=>{connectToWebSocket();return()=>{if(ws.current){ws.current.close();}};},[]);const connectToWebSocket=()=>{const wsUrl=backendUrl.replace('http','ws')+'/api/ws';try{ws.current=new WebSocket(wsUrl);ws.current.onopen=()=>{console.log('Connected to WebSocket');setIsConnected(true);// Send a ping to keep connection alive\nws.current.send(JSON.stringify({type:'ping'}));};ws.current.onmessage=event=>{const data=JSON.parse(event.data);if(data.type==='speaker_update'){setSpeakerData(data.data);setMeetingDuration(data.meeting_duration);}else if(data.type==='prompt'){setPrompts(prev=>[...prev,data]);}};ws.current.onclose=()=>{console.log('WebSocket connection closed');setIsConnected(false);// Attempt to reconnect after 3 seconds\nsetTimeout(connectToWebSocket,3000);};ws.current.onerror=error=>{console.error('WebSocket error:',error);setIsConnected(false);};}catch(error){console.error('Failed to connect to WebSocket:',error);setIsConnected(false);}};const startMeeting=async()=>{try{const response=await fetch(\"\".concat(backendUrl,\"/api/meeting/start\"),{method:'POST',headers:{'Content-Type':'application/json'}});if(response.ok){setIsRecording(true);setPrompts([]);setSpeakerData([]);setMeetingDuration(0);console.log('Meeting started successfully');}else{console.error('Failed to start meeting');alert('Failed to start meeting. Please check if the backend is running.');}}catch(error){console.error('Error starting meeting:',error);alert('Error starting meeting. Please check your connection.');}};const stopMeeting=async()=>{try{const response=await fetch(\"\".concat(backendUrl,\"/api/meeting/stop\"),{method:'POST',headers:{'Content-Type':'application/json'}});if(response.ok){setIsRecording(false);console.log('Meeting stopped successfully');}else{console.error('Failed to stop meeting');}}catch(error){console.error('Error stopping meeting:',error);}};const setMeetingAgenda=async()=>{if(!agenda.trim())return;const items=agenda.split('\\n').filter(item=>item.trim()).map(item=>item.trim());try{const response=await fetch(\"\".concat(backendUrl,\"/api/meeting/agenda\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({items})});if(response.ok){setAgendaItems(items);console.log('Agenda set successfully');}else{console.error('Failed to set agenda');}}catch(error){console.error('Error setting agenda:',error);}};const dismissPrompt=index=>{setPrompts(prev=>prev.filter((_,i)=>i!==index));};const formatTime=seconds=>{const minutes=Math.floor(seconds/60);const remainingSeconds=Math.floor(seconds%60);return\"\".concat(minutes,\":\").concat(remainingSeconds.toString().padStart(2,'0'));};// Prepare chart data\nconst chartData={labels:speakerData.map(speaker=>speaker.speaker_id),datasets:[{label:'Speaking Time (seconds)',data:speakerData.map(speaker=>speaker.talk_time_in_seconds),backgroundColor:speakerData.map((_,index)=>{const colors=['#3B82F6','#10B981','#F59E0B','#EF4444','#8B5CF6'];return colors[index%colors.length];}),borderColor:speakerData.map((_,index)=>{const colors=['#2563EB','#059669','#D97706','#DC2626','#7C3AED'];return colors[index%colors.length];}),borderWidth:1}]};const chartOptions={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'Real-Time Speaking Time Analysis',font:{size:18}}},scales:{y:{beginAtZero:true,title:{display:true,text:'Time (seconds)'}},x:{title:{display:true,text:'Speakers'}}},animation:{duration:300}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFA4 Real-Time Meeting Assistant\"}),/*#__PURE__*/_jsx(\"div\",{className:\"connection-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-indicator \".concat(isConnected?'connected':'disconnected'),children:isConnected?'üü¢ Connected':'üî¥ Disconnected'})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meeting-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:isRecording?stopMeeting:startMeeting,className:\"control-button \".concat(isRecording?'stop':'start'),disabled:!isConnected,children:isRecording?'‚èπÔ∏è Stop Meeting':'‚ñ∂Ô∏è Start Meeting'}),/*#__PURE__*/_jsxs(\"span\",{className:\"meeting-duration\",children:[\"Duration: \",formatTime(meetingDuration)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"agenda-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Meeting Agenda\"}),/*#__PURE__*/_jsx(\"textarea\",{value:agenda,onChange:e=>setAgenda(e.target.value),placeholder:\"Enter agenda items (one per line)\",className:\"agenda-input\",rows:\"4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:setMeetingAgenda,className:\"set-agenda-button\",children:\"Set Agenda\"}),agendaItems.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"agenda-items\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Agenda:\"}),/*#__PURE__*/_jsx(\"ul\",{children:agendaItems.map((item,index)=>/*#__PURE__*/_jsx(\"li\",{children:item},index))})]})]})]}),prompts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"prompts-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Facilitator Prompts\"}),prompts.map((prompt,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"prompt \".concat(prompt.prompt_type),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prompt-content\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[prompt.prompt_type.replace('_',' ').toUpperCase(),\":\"]}),/*#__PURE__*/_jsx(\"p\",{children:prompt.message})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dismissPrompt(index),className:\"dismiss-button\",children:\"\\u2715\"})]},index))]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:speakerData.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions}),/*#__PURE__*/_jsxs(\"div\",{className:\"speaker-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Speaker Statistics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-grid\",children:speakerData.map((speaker,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"speaker-stat\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"speaker-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"speaker-name\",children:speaker.speaker_id}),/*#__PURE__*/_jsx(\"span\",{className:\"speaker-time\",children:formatTime(speaker.talk_time_in_seconds)}),/*#__PURE__*/_jsxs(\"span\",{className:\"speaker-percentage\",children:[\"(\",speaker.percentage,\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(speaker.percentage,\"%\"),backgroundColor:chartData.datasets[0].backgroundColor[index]}})})]},speaker.speaker_id))})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF Ready to Analyze\"}),/*#__PURE__*/_jsx(\"p\",{children:isRecording?'Listening for speakers... Start talking to see real-time analysis!':'Click \"Start Meeting\" to begin real-time speech analysis.'})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"instructions\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCD6 How it works\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-icon\",children:\"\\uD83C\\uDFA4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Real-time audio capture and transcription\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-icon\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Automatic speaker identification\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-icon\",children:\"\\u2696\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Participation balance monitoring (60% rule)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-icon\",children:\"\\u23F0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Agenda progress tracking (10-minute alerts)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-icon\",children:\"\\uD83E\\uDD2B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Silence detection (30-second alerts)\"})]})]})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","App","isConnected","setIsConnected","isRecording","setIsRecording","speakerData","setSpeakerData","meetingDuration","setMeetingDuration","prompts","setPrompts","agenda","setAgenda","agendaItems","setAgendaItems","ws","backendUrl","process","env","REACT_APP_BACKEND_URL","connectToWebSocket","current","close","wsUrl","replace","WebSocket","onopen","console","log","send","JSON","stringify","type","onmessage","event","data","parse","meeting_duration","prev","onclose","setTimeout","onerror","error","startMeeting","response","fetch","concat","method","headers","ok","alert","stopMeeting","setMeetingAgenda","trim","items","split","filter","item","map","body","dismissPrompt","index","_","i","formatTime","seconds","minutes","Math","floor","remainingSeconds","toString","padStart","chartData","labels","speaker","speaker_id","datasets","label","talk_time_in_seconds","backgroundColor","colors","length","borderColor","borderWidth","chartOptions","responsive","plugins","legend","position","title","display","text","font","size","scales","y","beginAtZero","x","animation","duration","className","children","onClick","disabled","value","onChange","e","target","placeholder","rows","prompt","prompt_type","toUpperCase","message","options","percentage","style","width"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport './App.css';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction App() {\n  const [isConnected, setIsConnected] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [speakerData, setSpeakerData] = useState([]);\n  const [meetingDuration, setMeetingDuration] = useState(0);\n  const [prompts, setPrompts] = useState([]);\n  const [agenda, setAgenda] = useState('');\n  const [agendaItems, setAgendaItems] = useState([]);\n  const ws = useRef(null);\n  const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001';\n\n  useEffect(() => {\n    connectToWebSocket();\n    return () => {\n      if (ws.current) {\n        ws.current.close();\n      }\n    };\n  }, []);\n\n  const connectToWebSocket = () => {\n    const wsUrl = backendUrl.replace('http', 'ws') + '/api/ws';\n    \n    try {\n      ws.current = new WebSocket(wsUrl);\n      \n      ws.current.onopen = () => {\n        console.log('Connected to WebSocket');\n        setIsConnected(true);\n        // Send a ping to keep connection alive\n        ws.current.send(JSON.stringify({ type: 'ping' }));\n      };\n      \n      ws.current.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        \n        if (data.type === 'speaker_update') {\n          setSpeakerData(data.data);\n          setMeetingDuration(data.meeting_duration);\n        } else if (data.type === 'prompt') {\n          setPrompts(prev => [...prev, data]);\n        }\n      };\n      \n      ws.current.onclose = () => {\n        console.log('WebSocket connection closed');\n        setIsConnected(false);\n        // Attempt to reconnect after 3 seconds\n        setTimeout(connectToWebSocket, 3000);\n      };\n      \n      ws.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        setIsConnected(false);\n      };\n    } catch (error) {\n      console.error('Failed to connect to WebSocket:', error);\n      setIsConnected(false);\n    }\n  };\n\n  const startMeeting = async () => {\n    try {\n      const response = await fetch(`${backendUrl}/api/meeting/start`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      if (response.ok) {\n        setIsRecording(true);\n        setPrompts([]);\n        setSpeakerData([]);\n        setMeetingDuration(0);\n        console.log('Meeting started successfully');\n      } else {\n        console.error('Failed to start meeting');\n        alert('Failed to start meeting. Please check if the backend is running.');\n      }\n    } catch (error) {\n      console.error('Error starting meeting:', error);\n      alert('Error starting meeting. Please check your connection.');\n    }\n  };\n\n  const stopMeeting = async () => {\n    try {\n      const response = await fetch(`${backendUrl}/api/meeting/stop`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      if (response.ok) {\n        setIsRecording(false);\n        console.log('Meeting stopped successfully');\n      } else {\n        console.error('Failed to stop meeting');\n      }\n    } catch (error) {\n      console.error('Error stopping meeting:', error);\n    }\n  };\n\n  const setMeetingAgenda = async () => {\n    if (!agenda.trim()) return;\n    \n    const items = agenda.split('\\n').filter(item => item.trim()).map(item => item.trim());\n    \n    try {\n      const response = await fetch(`${backendUrl}/api/meeting/agenda`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ items }),\n      });\n      \n      if (response.ok) {\n        setAgendaItems(items);\n        console.log('Agenda set successfully');\n      } else {\n        console.error('Failed to set agenda');\n      }\n    } catch (error) {\n      console.error('Error setting agenda:', error);\n    }\n  };\n\n  const dismissPrompt = (index) => {\n    setPrompts(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const formatTime = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  // Prepare chart data\n  const chartData = {\n    labels: speakerData.map(speaker => speaker.speaker_id),\n    datasets: [\n      {\n        label: 'Speaking Time (seconds)',\n        data: speakerData.map(speaker => speaker.talk_time_in_seconds),\n        backgroundColor: speakerData.map((_, index) => {\n          const colors = ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6'];\n          return colors[index % colors.length];\n        }),\n        borderColor: speakerData.map((_, index) => {\n          const colors = ['#2563EB', '#059669', '#D97706', '#DC2626', '#7C3AED'];\n          return colors[index % colors.length];\n        }),\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Real-Time Speaking Time Analysis',\n        font: {\n          size: 18,\n        },\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        title: {\n          display: true,\n          text: 'Time (seconds)',\n        },\n      },\n      x: {\n        title: {\n          display: true,\n          text: 'Speakers',\n        },\n      },\n    },\n    animation: {\n      duration: 300,\n    },\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"app-header\">\n        <h1>üé§ Real-Time Meeting Assistant</h1>\n        <div className=\"connection-status\">\n          <span className={`status-indicator ${isConnected ? 'connected' : 'disconnected'}`}>\n            {isConnected ? 'üü¢ Connected' : 'üî¥ Disconnected'}\n          </span>\n        </div>\n      </header>\n\n      <main className=\"main-content\">\n        {/* Control Panel */}\n        <div className=\"control-panel\">\n          <div className=\"meeting-controls\">\n            <button\n              onClick={isRecording ? stopMeeting : startMeeting}\n              className={`control-button ${isRecording ? 'stop' : 'start'}`}\n              disabled={!isConnected}\n            >\n              {isRecording ? '‚èπÔ∏è Stop Meeting' : '‚ñ∂Ô∏è Start Meeting'}\n            </button>\n            <span className=\"meeting-duration\">\n              Duration: {formatTime(meetingDuration)}\n            </span>\n          </div>\n\n          <div className=\"agenda-section\">\n            <h3>Meeting Agenda</h3>\n            <textarea\n              value={agenda}\n              onChange={(e) => setAgenda(e.target.value)}\n              placeholder=\"Enter agenda items (one per line)\"\n              className=\"agenda-input\"\n              rows=\"4\"\n            />\n            <button onClick={setMeetingAgenda} className=\"set-agenda-button\">\n              Set Agenda\n            </button>\n            {agendaItems.length > 0 && (\n              <div className=\"agenda-items\">\n                <h4>Current Agenda:</h4>\n                <ul>\n                  {agendaItems.map((item, index) => (\n                    <li key={index}>{item}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Prompts Section */}\n        {prompts.length > 0 && (\n          <div className=\"prompts-section\">\n            <h3>üìã Facilitator Prompts</h3>\n            {prompts.map((prompt, index) => (\n              <div key={index} className={`prompt ${prompt.prompt_type}`}>\n                <div className=\"prompt-content\">\n                  <strong>{prompt.prompt_type.replace('_', ' ').toUpperCase()}:</strong>\n                  <p>{prompt.message}</p>\n                </div>\n                <button\n                  onClick={() => dismissPrompt(index)}\n                  className=\"dismiss-button\"\n                >\n                  ‚úï\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Speaking Time Visualization */}\n        <div className=\"chart-section\">\n          <div className=\"chart-container\">\n            {speakerData.length > 0 ? (\n              <>\n                <Bar data={chartData} options={chartOptions} />\n                <div className=\"speaker-stats\">\n                  <h3>üìä Speaker Statistics</h3>\n                  <div className=\"stats-grid\">\n                    {speakerData.map((speaker, index) => (\n                      <div key={speaker.speaker_id} className=\"speaker-stat\">\n                        <div className=\"speaker-info\">\n                          <span className=\"speaker-name\">{speaker.speaker_id}</span>\n                          <span className=\"speaker-time\">\n                            {formatTime(speaker.talk_time_in_seconds)}\n                          </span>\n                          <span className=\"speaker-percentage\">\n                            ({speaker.percentage}%)\n                          </span>\n                        </div>\n                        <div className=\"progress-bar\">\n                          <div\n                            className=\"progress-fill\"\n                            style={{\n                              width: `${speaker.percentage}%`,\n                              backgroundColor: chartData.datasets[0].backgroundColor[index],\n                            }}\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"no-data\">\n                <h3>üéØ Ready to Analyze</h3>\n                <p>\n                  {isRecording\n                    ? 'Listening for speakers... Start talking to see real-time analysis!'\n                    : 'Click \"Start Meeting\" to begin real-time speech analysis.'}\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Instructions */}\n        <div className=\"instructions\">\n          <h3>üìñ How it works</h3>\n          <div className=\"feature-list\">\n            <div className=\"feature\">\n              <span className=\"feature-icon\">üé§</span>\n              <span>Real-time audio capture and transcription</span>\n            </div>\n            <div className=\"feature\">\n              <span className=\"feature-icon\">üë•</span>\n              <span>Automatic speaker identification</span>\n            </div>\n            <div className=\"feature\">\n              <span className=\"feature-icon\">‚öñÔ∏è</span>\n              <span>Participation balance monitoring (60% rule)</span>\n            </div>\n            <div className=\"feature\">\n              <span className=\"feature-icon\">‚è∞</span>\n              <span>Agenda progress tracking (10-minute alerts)</span>\n            </div>\n            <div className=\"feature\">\n              <span className=\"feature-icon\">ü§´</span>\n              <span>Silence detection (30-second alerts)</span>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}